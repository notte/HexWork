{"version":3,"sources":["webpack:///./src/components/Backoffice/Login.vue?1d22","webpack:///./src/components/Backoffice/Login.vue?58bc","webpack:///./src/components/Backoffice/Login.vue?e678","webpack:///./src/components/Backoffice/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","dynamicValidateForm","rules","model","value","callback","$$v","$set","expression","on","$event","login","staticRenderFns","tokenModule","email","password","required","message","trigger","type","then","res","localStorage","setItem","token","setToken","$router","push","name","$notify","title","position","showClose","duration","iconClass","customClass","State","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,QAAQH,EAAG,UAAU,CAACI,IAAI,sBAAsBF,YAAY,eAAeG,MAAM,CAAC,MAAQT,EAAIU,oBAAoB,MAAQV,EAAIW,QAAQ,CAACP,EAAG,eAAe,CAACK,MAAM,CAAC,KAAO,UAAU,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,WAAWG,MAAM,CAACC,MAAOb,EAAIU,oBAAyB,MAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,oBAAqB,QAASK,IAAME,WAAW,gCAAgC,GAAGb,EAAG,eAAe,CAACK,MAAM,CAAC,KAAO,aAAa,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,YAAc,SAASG,MAAM,CAACC,MAAOb,EAAIU,oBAA4B,SAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,oBAAqB,WAAYK,IAAME,WAAW,mCAAmC,IAAI,GAAGb,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,WAAWS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,MAAMpB,EAAIU,wBAAwB,CAACV,EAAIO,GAAG,SAAS,MAC99Bc,EAAkB,G,wHCwBhBC,EAAc,eAAU,SAGT,EAArB,yG,0BAEC,EAAAZ,oBAA8C,CAC7Ca,MAAO,GACPC,SAAU,IAIX,EAAAb,MAAgB,CACfY,MAAO,CACN,CAAEE,UAAU,EAAMC,QAAS,UAAWC,QAAS,QAC/C,CAAEC,KAAM,QAASF,QAAS,WAAYC,QAAS,CAAC,OAAQ,aAX3D,uDAqBOjB,GAA2C,WAChD,QAAqB,GACrB,OAAIU,MAAMV,GAAqBmB,MAAK,SAAAC,GAEnCC,aAAaC,QAAQ,cAAeF,EAAIG,OAExC,EAAKC,SAASJ,EAAIG,OAElB,EAAKE,QAAQC,KAAK,CAAEC,KAAM,eAE1B,SAEA,QAAqB,GACrB,EAAKC,QAAQ,CACZC,MAAO,OACPb,QAAS,GACTc,SAAU,cACVC,WAAW,EACXC,SAAU,IACVC,UAAW,mBACXC,YAAa,0BAzCjB,GAAmC,cAgBN,gBAA3BtB,EAAYuB,MAAM,U,4BAEO,gBAAzB,eAAO,mB,+BAlBY,EAAK,gBADzB,QACoB,WC5B6X,I,YCO9YC,EAAY,eACd,EACA/C,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAyB,E","file":"js/chunk-2d0d6049.8d605d12.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_layout\"},[_c('div',{staticClass:\"login\"},[_c('h1',[_vm._v(\"登入\")]),_c('el-form',{ref:\"dynamicValidateForm\",staticClass:\"demo-dynamic\",attrs:{\"model\":_vm.dynamicValidateForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"請輸入電子信箱\"},model:{value:(_vm.dynamicValidateForm.email),callback:function ($$v) {_vm.$set(_vm.dynamicValidateForm, \"email\", $$v)},expression:\"dynamicValidateForm.email\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"請輸入密碼\"},model:{value:(_vm.dynamicValidateForm.password),callback:function ($$v) {_vm.$set(_vm.dynamicValidateForm, \"password\", $$v)},expression:\"dynamicValidateForm.password\"}})],1)],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login(_vm.dynamicValidateForm)}}},[_vm._v(\"登入\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { State, Action, Getter, namespace } from 'vuex-class';\nimport { Component, Provide } from 'vue-property-decorator';\nimport * as Model from '@/models/interfaces/common';\nimport * as EventBus from '@/utilities/event-bus';\nimport Api from '@/api/common.ts';\n\nconst tokenModule = namespace('token');\n\n@Component\nexport default class Login extends Vue {\n\t// 登入表格資料\n\tdynamicValidateForm: Model.IgetTokenRequest = {\n\t\temail: '',\n\t\tpassword: '',\n\t};\n\n\t// 驗證規則\n\trules: object = {\n\t\temail: [\n\t\t\t{ required: true, message: '請輸入電子信箱', trigger: 'blur' },\n\t\t\t{ type: 'email', message: '請輸入正確的信箱', trigger: ['blur', 'change'] },\n\t\t],\n\t};\n\n\t// vuex 中的 token\n\t@tokenModule.State('token') token!: string;\n\t// set vuex token 的方法\n\t@Action('token/setToken') private setToken!: any;\n\n\t// 登入事件\n\tlogin(dynamicValidateForm: Model.IgetTokenRequest) {\n\t\tEventBus.FullLoading(true);\n\t\tApi.login(dynamicValidateForm).then(res => {\n\t\t\t// 將 token 儲存 localStorage\n\t\t\tlocalStorage.setItem('accessToken', res.token);\n\t\t\t// 將 token 儲存 vuex（暫用）\n\t\t\tthis.setToken(res.token);\n\t\t\t// 跳轉 router 到後台\n\t\t\tthis.$router.push({ name: 'Backoffice' });\n\t\t\t// 發送事件，讓登入登出按鈕切換顯示\n\t\t\tEventBus.setTag();\n\n\t\t\tEventBus.FullLoading(false);\n\t\t\tthis.$notify({\n\t\t\t\ttitle: '登入成功',\n\t\t\t\tmessage: '',\n\t\t\t\tposition: 'bottom-left',\n\t\t\t\tshowClose: false,\n\t\t\t\tduration: 5000,\n\t\t\t\ticonClass: 'el-icon-lollipop',\n\t\t\t\tcustomClass: 'alertItem_info',\n\t\t\t});\n\t\t});\n\t}\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=2c295578&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}